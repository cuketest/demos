# 一个演示剧本用法的简单样例
## 简介
### 项目说明
这个样例的功能非常简单：用于验证加法运算的结果是否符合预期。

### 知识点
在这个样例中你会了解到：
1. 剧本用法：
   * 步骤的参数化；
   * 链接示例表的使用。
2. 脚本用法：
   * 步骤间的参数传递；
   * 运行结果的检验。

## 运行前准备
不需要任何准备，直接运行，可以看到运行了28个场景，成功了27个，失败了1个。不要担心，失败的这个是项目本身自带的，用于演示对运行结果的检验。  

## 项目介绍
### 剧本
在打开的`.feature`剧本文件中，可以看到有6个步骤，场景中3个，场景大纲中3个，但实际上，由于步骤采用了参数化的写法，场景的第1个步骤与场景大纲中的第1个步骤除了参数不同以外，会被CukeTest当作同一个步骤，因此只需要写一个步骤定义的脚本。同样的，场景中的第2、3个步骤也与场景大纲中的第2、3个步骤被当做同一个步骤。所以验证加法运算功能的场景的三个步骤如下：
1. 定义加号左边的数字；
2. 定义加号右边的数字，并计算结果；
3. 定义预期结果，验证计算结果是否满足预期。

在场景大纲中，可以通过引入示例表来批量生成场景，而这里使用的链接示例表是示例表的一种形式，可以直接关联到表格文件，表格与文件内容绑定，因此在外部对表格文件进行修改可以直接影响链接示例表中的内容。链接示例表更多的内容可以在帮助中搜索**链接示例表**（也可以选中加粗的内容后按F1获取快速帮助）。

### 脚本
在上一节中了解到实际上只有三个不同的步骤，所以只需要写三个步骤定义脚本。这里借助**场景中的变量传递**（选中加粗的内容后按F1获取快速帮助）取巧的实现了。

在验证计算结果这一步中的具体实现如下：
1. 判断上一个步骤传过来的计算结果与预期值是否相等；
2. 如果不相等则抛出错误信息，CukeTest过程中捕获了抛错便会将这一步骤标记为失败（Failed），并展示错误信息。

实际上可以用CukeTest工具箱中提供的断言库简单的实现上面这两步：
```py
   assert sum == num, ('预期值为 %d  实际结果为 %d .' %(num3,sum))
```

具体可以查看帮助文档中关于**断言库**的说明。


